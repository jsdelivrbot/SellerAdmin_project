webpackJsonp([79],{"8mg+":function(n,e,t){(n.exports=t("FZ+f")(!1)).push([n.i,"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",""])},KCBU:function(n,e,t){var a=t("8mg+");"string"==typeof a&&(a=[[n.i,a,""]]),a.locals&&(n.exports=a.locals);t("rjj0")("0f9c649f",a,!0)},QVFX:function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=t("//Fk"),i=t.n(a),s=t("NYxO"),r={name:"",data:function(){return{provice:"",GoodId:"",total:0,LineID:"",userName:"",departureCityID:"",isLoading:!1,userSearchID:"",formLabelWidth:"120px",createTimeData:"",addDialog:!1,updateDialog:!1,addOptions:{loginUserID:"huileyou",loginUserPass:"123",operateUserID:"",operateUserName:"",pcName:"",data:{ts_cc_LineID:"",ts_cc_Name:""}}}},computed:Object(s.b)(["adminProductLine","adminRouteDepartureCity","adminLineScheduleManagementId","updateAdminRouteDepartureCityObj","proviceList","cityList"]),created:function(){var n=this;if(this.$store.dispatch("initProvice",{areaPid:3337}),this.adminLineScheduleManagementId){var e={loginUserID:"huileyou",loginUserPass:"123",lineID:this.adminLineScheduleManagementId};this.$store.dispatch("initDepartureCity",e)}if(this.adminLineScheduleManagementId){var t={loginUserID:"huileyou",loginUserPass:"123",operateUserID:"",operateUserName:"",pcName:"",lineID:this.adminLineScheduleManagementId,page:1,rows:5};this.$store.dispatch("initAdminRouteDepartureCity",t).then(function(e){n.total=e})}},methods:{changeProvice:function(){var n={areaPid:this.provice};this.$store.dispatch("initCityList",n)},handleCurrentChange:function(n){this.initData(n)},handleSelect:function(n){this.userName=n.value;var e={loginUserID:"huileyou",loginUserPass:123,goodID:n.id?n.id:""};this.$store.dispatch("initAdminProductLine",e)},loadAll:function(n,e){var t=this;return new i.a(function(n,a){var i=JSON.parse(sessionStorage.getItem("admin")),s={loginUserID:"huileyou",loginUserPass:"123",operateUserID:"",operateUserName:"",tradeID:i.sm_ai_ID?i.sm_ai_ID:"",goodTitle:e||"",userID:"",pcName:"",ID:"",isDelete:0,page:1,rows:100};t.$store.dispatch("initAdminTradeGoodList",s).then(function(e){n(e)},function(n){t.$notify({message:n,type:"error"})})})},querySearchAsync:function(n,e){var t=this;this.loadAll(1,n).then(function(n){n=(n=n.data).map(function(n){return{id:n.ta_tg_ID,value:n.ta_tg_Title}}),t.restaurants=n,clearTimeout(t.timeout),t.timeout=setTimeout(function(){e(t.restaurants)},10)})},initData:function(n,e){var t=this,a={loginUserID:"huileyou",loginUserPass:"123",operateUserID:"",operateUserName:"",pcName:"",page:n||1,rows:5,lineID:e||""};this.$store.dispatch("initAdminRouteDepartureCity",a).then(function(n){t.total=n},function(n){t.$notify({message:n,type:"error"})})},search:function(){this.userSearchID?this.initData(1,this.userSearchID):this.$notify({message:"请选择筛选条件!",type:"error"})},addAdminRouteDepartureCity:function(){this.$store.commit("setTranstionFalse"),this.addDialog=!0},addAdminRouteDepartureCitySubmit:function(){var n=this;this.$store.dispatch("AddAdminRouteDepartureCity",this.addOptions).then(function(){n.$notify({message:"添加成功!",type:"success"}),n.initData(1,n.addOptions.data.ts_cc_LineID)},function(e){n.$notify({message:e,type:"error"})}),this.addDialog=!1},updateAdminRouteDepartureCity:function(n){this.$store.commit("setTranstionFalse"),this.updateDialog=!0,this.$store.commit("initUpdateAdminRouteDepartureCityObj",n)},updateAdminRouteDepartureCitySubmit:function(){var n=this,e={loginUserID:"huileyou",loginUserPass:"123",operateUserID:"",operateUserName:"",pcName:"",data:{ts_cc_ID:this.updateAdminRouteDepartureCityObj.ts_cc_ID,ts_cc_LineID:this.updateAdminRouteDepartureCityObj.ts_cc_LineID,ts_cc_Code:this.updateAdminRouteDepartureCityObj.ts_cc_Code,ts_cc_Name:this.updateAdminRouteDepartureCityObj.ts_cc_Name}};this.$store.dispatch("UpdateAdminRouteDepartureCity",e).then(function(){n.$notify({message:"修改成功!",type:"success"}),n.initData(1,n.updateAdminRouteDepartureCityObj.ts_cc_LineID)},function(e){n.$notify({message:e,type:"error"})}),this.updateDialog=!1},deleteAdminRouteDepartureCity:function(n){var e=this,t={loginUserID:"huileyou",loginUserPass:"123",operateUserID:"",operateUserName:"",pcName:"",ID:n};this.$store.dispatch("DeleteAdminRouteDepartureCity",t).then(function(){e.$notify({message:"删除成功!",type:"success"}),e.initData(1,e.userSearchID)},function(n){e.$notify({message:n,type:"error"})})}}},o={render:function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("div",[t("section",{attrs:{id:"wrap"}},[t("h1",{staticClass:"userClass"},[n._v("产品线路出发城市")]),n._v(" "),t("el-col",{staticClass:"formSearch",attrs:{span:24}},[t("el-form",{attrs:{inline:!0}},[t("el-form-item",[t("span",[n._v("线路出发城市筛选:")])]),n._v(" "),t("el-form-item",[t("el-autocomplete",{staticStyle:{width:"250px"},attrs:{size:"small","fetch-suggestions":n.querySearchAsync,placeholder:"请选择产品"},on:{select:n.handleSelect},model:{value:n.userName,callback:function(e){n.userName=e},expression:"userName"}})],1),n._v(" "),t("el-form-item",[t("el-select",{attrs:{placeholder:"请选择产品线路",size:"small"},model:{value:n.userSearchID,callback:function(e){n.userSearchID=e},expression:"userSearchID"}},n._l(n.adminProductLine,function(n){return t("el-option",{key:n.ts_pt_ID,attrs:{label:n.ts_pt_Name,value:n.ts_pt_ID}})}))],1),n._v(" "),t("el-form-item",[t("el-button",{attrs:{type:"primary",size:"small"},on:{click:n.search}},[n._v("查询")])],1),n._v(" "),t("el-form-item",[t("el-button",{attrs:{type:"primary",size:"small"},on:{click:n.addAdminRouteDepartureCity}},[n._v("新增")])],1)],1)],1),n._v(" "),t("el-table",{directives:[{name:"loading",rawName:"v-loading",value:n.isLoading,expression:"isLoading"}],staticStyle:{width:"100%"},attrs:{data:n.adminRouteDepartureCity}},[t("el-table-column",{attrs:{label:"编号",prop:"ts_cc_ID"}}),n._v(" "),t("el-table-column",{attrs:{label:"线路编号",align:"center",prop:"ts_cc_LineID"}}),n._v(" "),t("el-table-column",{attrs:{label:"城市名称",align:"center",prop:"ts_cc_Name"}}),n._v(" "),t("el-table-column",{attrs:{label:"操作",width:"300",align:"center"},scopedSlots:n._u([{key:"default",fn:function(e){return[t("el-button",{attrs:{size:"mini"},on:{click:function(t){n.updateAdminRouteDepartureCity(e.row.ts_cc_ID)}}},[n._v("修改\n          ")]),n._v(" "),t("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(t){n.deleteAdminRouteDepartureCity(e.row.ts_cc_ID)}}},[n._v("删除\n          ")])]}}])})],1),n._v(" "),t("div",{staticClass:"block",staticStyle:{float:"right"}},[t("el-pagination",{directives:[{name:"show",rawName:"v-show",value:n.total,expression:"total"}],attrs:{"page-size":5,layout:"total, prev, pager, next",total:n.total},on:{"current-change":n.handleCurrentChange}})],1),n._v(" "),t("el-dialog",{attrs:{title:"添加出发城市",visible:n.addDialog},on:{"update:visible":function(e){n.addDialog=e}}},[t("el-form",{attrs:{model:n.addOptions}},[t("el-form-item",{attrs:{label:"请选择产品线路:","label-width":n.formLabelWidth}},[t("el-select",{attrs:{placeholder:"请选择产品线路"},model:{value:n.addOptions.data.ts_cc_LineID,callback:function(e){n.$set(n.addOptions.data,"ts_cc_LineID",e)},expression:"addOptions.data.ts_cc_LineID"}},n._l(n.adminProductLine,function(n){return t("el-option",{key:n.ts_pt_ID,attrs:{label:n.ts_pt_Name,value:n.ts_pt_ID}})}))],1),n._v(" "),t("el-form-item",{attrs:{label:"城市:","label-width":n.formLabelWidth}},[t("el-select",{attrs:{placeholder:"请选择省份"},on:{change:n.changeProvice},model:{value:n.provice,callback:function(e){n.provice=e},expression:"provice"}},n._l(n.proviceList,function(n){return t("el-option",{key:n.sm_af_AreaID,attrs:{label:n.sm_af_AreaName,value:n.sm_af_AreaID}})})),n._v(" "),t("el-select",{attrs:{placeholder:"请选择市"},model:{value:n.addOptions.data.ts_cc_Name,callback:function(e){n.$set(n.addOptions.data,"ts_cc_Name",e)},expression:"addOptions.data.ts_cc_Name"}},n._l(n.cityList,function(n){return t("el-option",{key:n.sm_af_AreaID,attrs:{label:n.sm_af_AreaName,value:n.sm_af_AreaName}})}))],1)],1),n._v(" "),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(e){n.addDialog=!1}}},[n._v("取 消")]),n._v(" "),t("el-button",{attrs:{type:"primary"},on:{click:n.addAdminRouteDepartureCitySubmit}},[n._v("确 定")])],1)],1),n._v(" "),t("el-dialog",{attrs:{title:"修改出发城市",visible:n.updateDialog},on:{"update:visible":function(e){n.updateDialog=e}}},[t("el-form",{attrs:{model:n.updateAdminRouteDepartureCityObj}},[t("el-form-item",{attrs:{label:"请选择产品线路:","label-width":n.formLabelWidth}},[t("el-select",{attrs:{placeholder:"请选择产品线路"},model:{value:n.updateAdminRouteDepartureCityObj.ts_cc_LineID,callback:function(e){n.$set(n.updateAdminRouteDepartureCityObj,"ts_cc_LineID",e)},expression:"updateAdminRouteDepartureCityObj.ts_cc_LineID"}},n._l(n.adminProductLine,function(n){return t("el-option",{key:n.ts_pt_ID,attrs:{label:n.ts_pt_Name,value:n.ts_pt_ID}})}))],1),n._v(" "),t("el-form-item",{attrs:{label:"城市:","label-width":n.formLabelWidth}},[t("el-select",{attrs:{placeholder:"请选择省份"},on:{change:n.changeProvice},model:{value:n.provice,callback:function(e){n.provice=e},expression:"provice"}},n._l(n.proviceList,function(n){return t("el-option",{key:n.sm_af_AreaID,attrs:{label:n.sm_af_AreaName,value:n.sm_af_AreaID}})})),n._v(" "),t("el-select",{attrs:{placeholder:"请选择市"},model:{value:n.updateAdminRouteDepartureCityObj.ts_cc_Name,callback:function(e){n.$set(n.updateAdminRouteDepartureCityObj,"ts_cc_Name",e)},expression:"updateAdminRouteDepartureCityObj.ts_cc_Name"}},n._l(n.cityList,function(n){return t("el-option",{key:n.sm_af_AreaID,attrs:{label:n.sm_af_AreaName,value:n.sm_af_AreaName}})}))],1)],1),n._v(" "),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(e){n.updateDialog=!1}}},[n._v("取 消")]),n._v(" "),t("el-button",{attrs:{type:"primary"},on:{click:n.updateAdminRouteDepartureCitySubmit}},[n._v("确 定")])],1)],1)],1)])},staticRenderFns:[]};var l=t("VU/8")(r,o,!1,function(n){t("KCBU")},"data-v-30a5ec29",null);e.default=l.exports}});