webpackJsonp([74],{"3QDD":function(e,n,t){var a=t("hlCj");"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);t("rjj0")("539daa3b",a,!0)},EQTs:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var a=t("//Fk"),i=t.n(a),l=t("NYxO"),s={name:"",data:function(){return{GoodId:"",LineID:"",userName:"",isLoading:!1,formLabelWidth:"120px",addAdminScheduleTimeDialog:!1,updateAdminScheduleTimeDialog:!1,userSearchID:"",value:"",addOptions:{loginUserID:"huileyou",loginUserPass:"123",operateUserID:"",operateUserName:"",pcName:"",data:{ts_tt_LinePrepareID:"",ts_tt_DoWork:"",ts_tt_Turn:"",ts_tt_DoTime:"",ts_tt_Remark:""}}}},computed:Object(l.b)(["adminProductLine","adminTradeGoodList","adminLinePrepare","adminScheduleTimeList","updateAdminScheduleTimeObj","adminScheduleTimeManagementId","adminProductLineManagementId"]),methods:{toDayLine:function(){this.$router.push({name:"AdminQueryProductInformationList",query:{timeID:this.adminScheduleTimeManagementId,name:"线路日程"}})},toLine:function(){this.$router.push({name:"AdminQueryProductInformation",query:{lineID:this.adminProductLineManagementId}})},handleSelect:function(e){this.userName=e.value;var n={loginUserID:"huileyou",loginUserPass:123,goodID:e.id?e.id:""};this.$store.dispatch("initAdminProductLine",n)},loadAll:function(e,n){var t=this;return new i.a(function(e,a){var i=JSON.parse(sessionStorage.getItem("admin")),l={loginUserID:"huileyou",loginUserPass:"123",operateUserID:"",operateUserName:"",tradeID:i.sm_ai_ID?i.sm_ai_ID:"",goodTitle:n||"",userID:"",pcName:"",ID:"",isDelete:0,page:1,rows:100};t.$store.dispatch("initAdminTradeGoodList",l).then(function(n){e(n)},function(e){t.$notify({message:e,type:"error"})})})},querySearchAsync:function(e,n){var t=this;this.loadAll(1,e).then(function(e){e=(e=e.data).map(function(e){return{id:e.ta_tg_ID,value:e.ta_tg_Title}}),t.restaurants=e,clearTimeout(t.timeout),t.timeout=setTimeout(function(){n(t.restaurants)},10)})},changeLineID:function(){var e=this;this.LineID="";var n={loginUserID:"huileyou",loginUserPass:"123",operateUserID:"",operateUserName:"",pcName:"",goodID:this.userSearchID?this.userSearchID:""};this.$store.dispatch("initAdminLinePrepare",n).then(function(){},function(n){e.$notify({message:n,type:"error"})})},initData:function(e){var n=this,t={loginUserID:"huileyou",loginUserPass:"123",operateUserID:"",operateUserName:"",pcName:"",isDelete:"0",goodID:e||""};this.isLoading=!0,this.$store.dispatch("initAdminScheduleTime",t).then(function(){n.isLoading=!1},function(e){n.$notify({message:e,type:"error"})})},search:function(){""!=this.userName?""!=this.userSearchID?""!=this.LineID?this.initData(this.LineID):this.$notify({message:"请选择对应线路日程!",type:"error"}):this.$notify({message:"请选择对应产品线路!",type:"error"}):this.$notify({message:"请选择对应产品!",type:"error"})},searchInitData:function(){this.adminScheduleTimeManagementId&&this.initData(this.adminScheduleTimeManagementId)},addAdminScheduleTime:function(){this.$store.commit("setTranstionFalse"),this.addAdminScheduleTimeDialog=!0},addAdminScheduleTimeSubmit:function(){var e=this;this.$store.dispatch("AddAdminScheduleTime",this.addOptions).then(function(){e.$notify({message:"添加成功!",type:"success"}),e.initData(e.addOptions.data.ts_tt_LinePrepareID)},function(n){e.$notify({message:n,type:"error"})}),this.addAdminScheduleTimeDialog=!1},updateAdminScheduleTime:function(e){this.updateAdminScheduleTimeDialog=!0,this.$store.commit("setTranstionFalse"),this.$store.commit("initUpdateAdminScheduleTimeObj",e)},updateAdminScheduleTimeSubmit:function(){var e=this,n={loginUserID:"huileyou",loginUserPass:"123",operateUserID:"",operateUserName:"",pcName:"",data:{ts_tt_ID:this.updateAdminScheduleTimeObj.ts_tt_ID,ts_tt_LinePrepareID:this.updateAdminScheduleTimeObj.ts_tt_LinePrepareID,ts_tt_DoWork:this.updateAdminScheduleTimeObj.ts_tt_DoWork,ts_tt_Turn:this.updateAdminScheduleTimeObj.ts_tt_Turn,ts_tt_DoTime:this.updateAdminScheduleTimeObj.ts_tt_DoTime,ts_tt_Remark:this.updateAdminScheduleTimeObj.ts_tt_Remark}};this.$store.dispatch("UpdateAdminScheduleTime",n).then(function(){e.$notify({message:"修改成功!",type:"success"}),e.initData(e.updateAdminScheduleTimeObj.ts_tt_LinePrepareID)},function(n){e.$notify({message:n,type:"error"})}),this.updateAdminScheduleTimeDialog=!1},deletAdminScheduleTime:function(e){var n=this,t={loginUserID:"huileyou",loginUserPass:"123",operateUserID:"",operateUserName:"",pcName:"",ttID:e};this.$store.dispatch("DeletAdminScheduleTime",t).then(function(){n.$notify({message:"删除成功!",type:"success"}),n.adminScheduleTimeManagementId&&n.initData(n.adminScheduleTimeManagementId)},function(e){n.$notify({message:e,type:"error"})})},timeActivityManagement:function(e){this.$store.commit("adminTimeActivityManagementId",e),this.$router.push({name:"AdminTimeActivities"}),sessionStorage.setItem("index","4")}},mounted:function(){this.searchInitData()}},o={render:function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",[t("section",{attrs:{id:"wrap"}},[t("div",{staticStyle:{margin:"30px 0 30px 0px"}},[t("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[t("el-breadcrumb-item",{attrs:{to:"AdminMerchantProducts"}},[e._v("商家产品")]),e._v(" "),t("el-breadcrumb-item",{nativeOn:{click:function(n){e.toLine(n)}}},[e._v("产品线路")]),e._v(" "),t("el-breadcrumb-item",{nativeOn:{click:function(n){e.toDayLine(n)}}},[e._v("日程线路")]),e._v(" "),t("el-breadcrumb-item",[e._v("日程时间")])],1)],1),e._v(" "),t("h1",{staticClass:"userClass"},[e._v("日程时间信息")]),e._v(" "),t("el-col",{staticClass:"formSearch",attrs:{span:24}},[t("el-form",{attrs:{inline:!0}},[t("el-form-item",[t("span",[e._v("线路日程筛选:")])]),e._v(" "),t("el-form-item",[t("el-autocomplete",{staticStyle:{width:"250px"},attrs:{"fetch-suggestions":e.querySearchAsync,placeholder:"请选择产品"},on:{select:e.handleSelect},model:{value:e.userName,callback:function(n){e.userName=n},expression:"userName"}})],1),e._v(" "),t("el-form-item",[t("el-select",{attrs:{placeholder:"请选择产品线路"},on:{change:e.changeLineID},model:{value:e.userSearchID,callback:function(n){e.userSearchID=n},expression:"userSearchID"}},e._l(e.adminProductLine,function(e){return t("el-option",{key:e.ts_pt_ID,attrs:{label:e.ts_pt_Name,value:e.ts_pt_ID}})}))],1),e._v(" "),t("el-form-item",[t("el-select",{attrs:{placeholder:"请选择线路日程"},model:{value:e.LineID,callback:function(n){e.LineID=n},expression:"LineID"}},e._l(e.adminLinePrepare,function(e){return t("el-option",{key:e.ts_pt_ID,attrs:{label:"第"+e.ts_pt_Day+"天",value:e.ts_pt_ID}})}))],1),e._v(" "),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:e.search}},[e._v("查询")])],1),e._v(" "),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:e.addAdminScheduleTime}},[e._v("新增")])],1)],1)],1),e._v(" "),t("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.isLoading,expression:"isLoading"}],staticStyle:{width:"100%"},attrs:{data:e.adminScheduleTimeList,"highlight-current-row":""}},[t("el-table-column",{attrs:{align:"center",label:"主键编号",prop:"ts_tt_ID"}}),e._v(" "),t("el-table-column",{attrs:{align:"center",label:"日程编码",prop:"ts_tt_LinePrepareID"}}),e._v(" "),t("el-table-column",{attrs:{label:"所做内容",align:"center"},scopedSlots:e._u([{key:"default",fn:function(n){return[t("el-popover",{ref:"popover1",attrs:{placement:"top-start",width:"200",trigger:"hover",content:n.row.ts_tt_DoWork}}),e._v(" "),t("el-button",{directives:[{name:"popover",rawName:"v-popover:popover1",arg:"popover1"}]},[e._v("移入查看")])]}}])}),e._v(" "),t("el-table-column",{attrs:{align:"center",label:"排序",prop:"ts_tt_Turn"}}),e._v(" "),t("el-table-column",{attrs:{align:"center",label:"时间",prop:"ts_tt_DoTime"}}),e._v(" "),t("el-table-column",{attrs:{align:"center",label:"备注"},scopedSlots:e._u([{key:"default",fn:function(n){return[e._v("\n          "+e._s(n.row.ts_tt_Remark?n.row.ts_tt_Remark:"")+"\n        ")]}}])}),e._v(" "),t("el-table-column",{attrs:{label:"操作",align:"center",width:"300"},scopedSlots:e._u([{key:"default",fn:function(n){return[t("el-button",{attrs:{size:"mini"},on:{click:function(t){e.updateAdminScheduleTime(n.row.ts_tt_ID)}}},[e._v("修改\n          ")]),e._v(" "),t("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(t){e.deletAdminScheduleTime(n.row.ts_tt_ID)}}},[e._v("删除\n          ")]),e._v(" "),t("el-button",{attrs:{size:"mini"},on:{click:function(t){e.timeActivityManagement(n.row.ts_tt_ID)}}},[e._v("时间活动管理\n          ")])]}}])})],1)],1),e._v(" "),t("el-dialog",{attrs:{title:"添加日程时间",visible:e.addAdminScheduleTimeDialog},on:{"update:visible":function(n){e.addAdminScheduleTimeDialog=n}}},[t("el-form",{attrs:{model:e.addOptions}},[t("el-form-item",{attrs:{label:"请选择线路日程:","label-width":e.formLabelWidth}},[t("el-select",{attrs:{placeholder:"请选择线路日程"},model:{value:e.addOptions.data.ts_tt_LinePrepareID,callback:function(n){e.$set(e.addOptions.data,"ts_tt_LinePrepareID",n)},expression:"addOptions.data.ts_tt_LinePrepareID"}},e._l(e.adminLinePrepare,function(e){return t("el-option",{key:e.ts_pt_ID,attrs:{label:"第"+e.ts_pt_Day+"天",value:e.ts_pt_ID}})}))],1),e._v(" "),t("el-form-item",{attrs:{label:"日程时间:","label-width":e.formLabelWidth}},[t("el-time-select",{attrs:{"picker-options":{start:"05:30",step:"00:15",end:"24:00"},"value-format":"HH:ss",placeholder:"请输入日程时间"},model:{value:e.addOptions.data.ts_tt_DoTime,callback:function(n){e.$set(e.addOptions.data,"ts_tt_DoTime",n)},expression:"addOptions.data.ts_tt_DoTime"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"顺序:","label-width":e.formLabelWidth}},[t("el-select",{attrs:{placeholder:"请选择顺序"},model:{value:e.addOptions.data.ts_tt_Turn,callback:function(n){e.$set(e.addOptions.data,"ts_tt_Turn",n)},expression:"addOptions.data.ts_tt_Turn"}},[t("el-option",{attrs:{label:"1",value:"1"}}),e._v(" "),t("el-option",{attrs:{label:"2",value:"2"}}),e._v(" "),t("el-option",{attrs:{label:"3",value:"3"}}),e._v(" "),t("el-option",{attrs:{label:"4",value:"4"}}),e._v(" "),t("el-option",{attrs:{label:"5",value:"5"}}),e._v(" "),t("el-option",{attrs:{label:"6",value:"6"}}),e._v(" "),t("el-option",{attrs:{label:"7",value:"7"}}),e._v(" "),t("el-option",{attrs:{label:"8",value:"8"}}),e._v(" "),t("el-option",{attrs:{label:"9",value:"9"}}),e._v(" "),t("el-option",{attrs:{label:"10",value:"10"}})],1)],1),e._v(" "),t("el-form-item",{attrs:{label:"所做内容:","label-width":e.formLabelWidth}},[t("el-input",{attrs:{placeholder:"请输入内容",type:"textarea",autosize:{minRows:6,maxRows:10}},model:{value:e.addOptions.data.ts_tt_DoWork,callback:function(n){e.$set(e.addOptions.data,"ts_tt_DoWork",n)},expression:"addOptions.data.ts_tt_DoWork"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"备注:","label-width":e.formLabelWidth}},[t("el-input",{attrs:{placeholder:"请输入内容",type:"textarea",autosize:{minRows:6,maxRows:10}},model:{value:e.addOptions.data.ts_tt_Remark,callback:function(n){e.$set(e.addOptions.data,"ts_tt_Remark",n)},expression:"addOptions.data.ts_tt_Remark"}})],1)],1),e._v(" "),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(n){e.addAdminScheduleTimeDialog=!1}}},[e._v("取 消")]),e._v(" "),t("el-button",{attrs:{type:"primary"},on:{click:e.addAdminScheduleTimeSubmit}},[e._v("确 定")])],1)],1),e._v(" "),t("el-dialog",{attrs:{title:"修改日程时间",visible:e.updateAdminScheduleTimeDialog},on:{"update:visible":function(n){e.updateAdminScheduleTimeDialog=n}}},[t("el-form",{attrs:{model:e.addOptions}},[t("el-form-item",{attrs:{label:"请选择线路日程:","label-width":e.formLabelWidth}},[t("el-select",{attrs:{placeholder:"请选择线路日程"},model:{value:e.updateAdminScheduleTimeObj.ts_tt_LinePrepareID,callback:function(n){e.$set(e.updateAdminScheduleTimeObj,"ts_tt_LinePrepareID",n)},expression:"updateAdminScheduleTimeObj.ts_tt_LinePrepareID"}},e._l(e.adminLinePrepare,function(e){return t("el-option",{key:e.ts_pt_ID,attrs:{label:"第"+e.ts_pt_Day+"天",value:e.ts_pt_ID}})}))],1),e._v(" "),t("el-form-item",{attrs:{label:"日程时间:","label-width":e.formLabelWidth}},[t("el-time-select",{attrs:{"picker-options":{start:"05:30",step:"00:15",end:"24:00"},"value-format":"HH:ss",placeholder:"请输入日程时间"},model:{value:e.updateAdminScheduleTimeObj.ts_tt_DoTime,callback:function(n){e.$set(e.updateAdminScheduleTimeObj,"ts_tt_DoTime",n)},expression:"updateAdminScheduleTimeObj.ts_tt_DoTime"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"顺序:","label-width":e.formLabelWidth}},[t("el-select",{attrs:{placeholder:"请选择顺序"},model:{value:e.updateAdminScheduleTimeObj.ts_tt_Turn,callback:function(n){e.$set(e.updateAdminScheduleTimeObj,"ts_tt_Turn",n)},expression:"updateAdminScheduleTimeObj.ts_tt_Turn"}},[t("el-option",{attrs:{label:"1",value:"1"}}),e._v(" "),t("el-option",{attrs:{label:"2",value:"2"}}),e._v(" "),t("el-option",{attrs:{label:"3",value:"3"}}),e._v(" "),t("el-option",{attrs:{label:"4",value:"4"}}),e._v(" "),t("el-option",{attrs:{label:"5",value:"5"}}),e._v(" "),t("el-option",{attrs:{label:"6",value:"6"}}),e._v(" "),t("el-option",{attrs:{label:"7",value:"7"}}),e._v(" "),t("el-option",{attrs:{label:"8",value:"8"}}),e._v(" "),t("el-option",{attrs:{label:"9",value:"9"}}),e._v(" "),t("el-option",{attrs:{label:"10",value:"10"}})],1)],1),e._v(" "),t("el-form-item",{attrs:{label:"所做内容:","label-width":e.formLabelWidth}},[t("el-input",{attrs:{placeholder:"请输入内容",type:"textarea",autosize:{minRows:6,maxRows:10}},model:{value:e.updateAdminScheduleTimeObj.ts_tt_DoWork,callback:function(n){e.$set(e.updateAdminScheduleTimeObj,"ts_tt_DoWork",n)},expression:"updateAdminScheduleTimeObj.ts_tt_DoWork"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"备注:","label-width":e.formLabelWidth}},[t("el-input",{attrs:{placeholder:"请输入内容",type:"textarea",autosize:{minRows:6,maxRows:10}},model:{value:e.updateAdminScheduleTimeObj.ts_tt_Remark,callback:function(n){e.$set(e.updateAdminScheduleTimeObj,"ts_tt_Remark",n)},expression:"updateAdminScheduleTimeObj.ts_tt_Remark"}})],1)],1),e._v(" "),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(n){e.updateAdminScheduleTimeDialog=!1}}},[e._v("取 消")]),e._v(" "),t("el-button",{attrs:{type:"primary"},on:{click:e.updateAdminScheduleTimeSubmit}},[e._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var r=t("VU/8")(s,o,!1,function(e){t("3QDD")},"data-v-5bff5730",null);n.default=r.exports},hlCj:function(e,n,t){(e.exports=t("FZ+f")(!1)).push([e.i,"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",""])}});