webpackJsonp([43],{"J+Qf":function(n,t,e){var a=e("qiWd");"string"==typeof a&&(a=[[n.i,a,""]]),a.locals&&(n.exports=a.locals);e("rjj0")("6a94c88f",a,!0)},"JzI/":function(n,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=e("//Fk"),o=e.n(a),i=e("NYxO"),s={name:"",data:function(){return{houseName:"",roomProductID:"",total:0,ImageURL:[],ImageURL1:[],isLoading:!1,addDialog:!1,updateDialog:!1,formLabelWidth:"120px",addOptions:{loginUserID:"huileyou",loginUserPass:"123",operateUserID:"操作员编码",operateUserName:"操作员名称",pcName:"",data:{ht_rpp_ID:"",ht_re_HouseNumber:"",ht_re_ImagePath:""}}}},computed:Object(i.b)(["hotelRoomEntityList","updateHotelRoomEntityObj"]),created:function(){var n=this.$route.params.id;if(!n)return this.$notify({message:"请先选择房间产品!",position:"top-left",type:"error"}),void this.$router.push({name:"HotelRoomProduct"});this.roomProductID=n,this.initData("",1)},methods:{goHotelRoomProduct:function(){this.$router.push({name:"HotelRoomProduct",params:{id:1378}})},toRoomNumber:function(n){this.$router.push({name:"HotelRoomNumber",params:{id:n}})},uploadImg:function(n){return new o.a(function(t,e){lrz(n).then(function(n){t(n.base64.split(",")[1])})})},uploaNode:function(){var n=this;this.ImageURL=[],this.ImageURL1=[],setTimeout(function(){n.$refs.upload&&n.$refs.upload.addEventListener("change",function(t){for(var e=0;e<n.$refs.upload.files.length;e++)n.uploadImg(n.$refs.upload.files[e]).then(function(t){n.$store.dispatch("hotelUploadAdminImgs",{imageData:t}).then(function(t){t?n.ImageURL.push(t.data):n.$notify({message:"图片地址不存在!",type:"error"})})})}),n.$refs.upload1&&n.$refs.upload1.addEventListener("change",function(t){for(var e=0;e<n.$refs.upload1.files.length;e++)n.uploadImg(n.$refs.upload1.files[e]).then(function(t){n.$store.dispatch("hotelUploadAdminImgs",{imageData:t}).then(function(t){t?n.ImageURL1.push(t.data):n.$notify({message:"图片地址不存在!",type:"error"})})})})},30)},handleCurrentChange:function(n){this.initData(this.houseName,n)},initData:function(n,t){var e=this,a={loginUserID:"huileyou",loginUserPass:"123",operateUserID:"操作员编码",operateUserName:"操作员名称",pcName:"",page:t||1,rows:"10",ht_re_Id:"",ht_rpp_ID:this.roomProductID,ht_re_HouseNumber:n||"",ht_re_ImagePath:""};this.isLoading=!0,this.$store.dispatch("initHotelRoomEntity",a).then(function(n){e.total=n,e.isLoading=!1},function(n){e.$notify({message:n,type:"error"})})},search:function(){this.initData(this.houseName,1)},Add:function(){this.$store.commit("setTranstionFalse"),this.addDialog=!0,this.uploaNode()},addSubmit:function(){var n=this;this.addOptions.data.ht_re_ImagePath=this.ImageURL.join(","),this.addOptions.data.ht_rpp_ID=this.roomProductID,this.$store.dispatch("AddHotelRoomEntity",this.addOptions).then(function(t){n.$notify({message:t,type:"success"}),n.initData(n.houseName,1)},function(t){n.$notify({message:t,type:"error"})}),this.addDialog=!1},Update:function(n){this.$store.commit("setTranstionFalse"),this.updateDialog=!0,this.$store.commit("UpdateHotelRoomEntity",n),this.uploaNode()},updateSubmit:function(){var n=this,t={loginUserID:"huileyou",loginUserPass:"123",operateUserID:"操作员编码",operateUserName:"操作员名称",pcName:"",data:this.updateHotelRoomEntityObj};t.data.ht_re_ImagePath=this.ImageURL1.join(","),this.$store.dispatch("UpdateHotelRoomEntity",t).then(function(t){n.$notify({message:t,type:"success"}),n.initData(n.houseName,1)},function(t){n.$notify({message:t,type:"error"})}),this.updateDialog=!1},Delete:function(n){var t=this,e={loginUserID:"huileyou",loginUserPass:"123",operateUserID:"操作员编码",operateUserName:"lb",pcName:"",data:{ht_re_Id:n}};this.$store.dispatch("DeleteHotelRoomEntity",e).then(function(n){t.$notify({message:n,type:"success"}),t.initData(t.houseName,1)},function(n){t.$notify({message:n,type:"error"})})}}},r={render:function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("div",{staticClass:"clearfix",attrs:{id:"wrap"}},[e("el-breadcrumb",{staticStyle:{margin:"20px 0px 0px 20px"},attrs:{"separator-class":"el-icon-arrow-right"}},[e("el-breadcrumb-item",{attrs:{to:{path:"/home/hotelRoom/"}}},[n._v("房间")]),n._v(" "),e("el-breadcrumb-item",{nativeOn:{click:function(t){n.goHotelRoomProduct(t)}}},[n._v("酒店房间产品")]),n._v(" "),e("el-breadcrumb-item",[n._v("酒店房间实体")])],1),n._v(" "),e("h1",{staticClass:"userClass"},[n._v("酒店房间实体")]),n._v(" "),e("el-col",{staticClass:"formSearch",attrs:{span:24}},[e("el-form",{attrs:{inline:!0}},[e("el-form-item",[e("span",[n._v("房间门牌号筛选:")])]),n._v(" "),e("el-form-item",[e("el-input",{attrs:{type:"text","auto-complete":"off",placeholder:"房间门牌号",size:"small"},model:{value:n.houseName,callback:function(t){n.houseName=t},expression:"houseName"}})],1),n._v(" "),e("el-form-item",[e("el-button",{attrs:{type:"primary",size:"small"},on:{click:n.search}},[n._v("查询")]),n._v(" "),e("el-button",{attrs:{type:"primary",size:"small"},on:{click:n.Add}},[n._v("新增")])],1)],1)],1),n._v(" "),e("el-table",{directives:[{name:"loading",rawName:"v-loading",value:n.isLoading,expression:"isLoading"}],staticStyle:{width:"100%"},attrs:{data:n.hotelRoomEntityList}},[e("el-table-column",{attrs:{width:"140",prop:"ht_re_Id",label:"房间实体ID",align:"center"}}),n._v(" "),e("el-table-column",{attrs:{width:"140",prop:"ht_re_HouseNumber",label:"房间门牌号"}}),n._v(" "),e("el-table-column",{attrs:{prop:"ht_re_ImagePath",label:"房间图片"}}),n._v(" "),e("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:n._u([{key:"default",fn:function(t){return[e("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(e){n.Update(t.row.ht_re_Id)}}},[n._v("修改\n        ")]),n._v(" "),e("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(e){n.Delete(t.row.ht_re_Id)}}},[n._v("删除\n        ")]),n._v(" "),e("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(e){n.toRoomNumber(t.row.ht_re_Id)}}},[n._v("前往生成房间数\n        ")])]}}])})],1),n._v(" "),e("div",{staticClass:"block",staticStyle:{float:"right"}},[e("el-pagination",{directives:[{name:"show",rawName:"v-show",value:n.total,expression:"total"}],attrs:{"page-size":10,layout:"total, prev, pager, next",total:n.total},on:{"current-change":n.handleCurrentChange}})],1),n._v(" "),e("el-dialog",{attrs:{title:"添加酒店房间实体",visible:n.addDialog},on:{"update:visible":function(t){n.addDialog=t}}},[e("el-form",{attrs:{model:n.addOptions}},[e("el-form-item",{attrs:{label:"房间门牌号:","label-width":n.formLabelWidth}},[e("el-input",{model:{value:n.addOptions.data.ht_re_HouseNumber,callback:function(t){n.$set(n.addOptions.data,"ht_re_HouseNumber",t)},expression:"addOptions.data.ht_re_HouseNumber"}})],1),n._v(" "),e("el-form-item",{attrs:{label:"房间图片上传:","label-width":n.formLabelWidth}},[e("a",{staticClass:"file",attrs:{href:"javascript:;"}},[n._v("上传图片\n          "),e("input",{ref:"upload",attrs:{type:"file",name:"",accept:"image/*",multiple:""}})]),n._v(" "),n._l(n.ImageURL,function(t){return e("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t,expression:"item"},{name:"show",rawName:"v-show",value:n.ImageURL.length,expression:"ImageURL.length"}],staticStyle:{width:"100px",height:"100px"},attrs:{src:"",alt:""}})})],2)],1),n._v(" "),e("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(t){n.addDialog=!1}}},[n._v("取 消")]),n._v(" "),e("el-button",{attrs:{type:"primary"},on:{click:n.addSubmit}},[n._v("确 定")])],1)],1),n._v(" "),e("el-dialog",{attrs:{title:"修改酒店房间实体",visible:n.updateDialog},on:{"update:visible":function(t){n.updateDialog=t}}},[e("el-form",{attrs:{model:n.updateHotelRoomEntityObj}},[e("el-form-item",{attrs:{label:"房间门牌号:","label-width":n.formLabelWidth}},[e("el-input",{model:{value:n.updateHotelRoomEntityObj.ht_re_HouseNumber,callback:function(t){n.$set(n.updateHotelRoomEntityObj,"ht_re_HouseNumber",t)},expression:"updateHotelRoomEntityObj.ht_re_HouseNumber"}})],1),n._v(" "),e("el-form-item",{attrs:{label:"房间图片上传:","label-width":n.formLabelWidth}},[e("a",{staticClass:"file",attrs:{href:"javascript:;"}},[n._v("上传图片\n          "),e("input",{ref:"upload1",attrs:{type:"file",name:"",accept:"image/*",multiple:""}})]),n._v(" "),n._l(n.ImageURL1,function(t){return e("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t,expression:"item"},{name:"show",rawName:"v-show",value:n.ImageURL1.length,expression:"ImageURL1.length"}],staticStyle:{width:"100px",height:"100px"},attrs:{src:"",alt:""}})})],2)],1),n._v(" "),e("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(t){n.updateDialog=!1}}},[n._v("取 消")]),n._v(" "),e("el-button",{attrs:{type:"primary"},on:{click:n.updateSubmit}},[n._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var l=e("VU/8")(s,r,!1,function(n){e("J+Qf")},"data-v-2a0e9bf2",null);t.default=l.exports},qiWd:function(n,t,e){(n.exports=e("FZ+f")(!1)).push([n.i,"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",""])}});