webpackJsonp([72],{"+ppX":function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("//Fk"),a=e.n(i),s=e("NYxO"),o={name:"",data:function(){return{userName:"",GoodId:"",LineID:"",TimeID:"",userSearchID:"",TimeActiveID:"",isLoading:!1,addAdminActivitySiteDialog:!1,updateAdminActivitySiteDialog:!1,formLabelWidth:"120px",addAdminActivitySiteObj:{loginUserID:"huileyou",loginUserPass:"123",operateUserID:"",operateUserName:"",pcName:"",data:{ts_as_TimeActivityID:"",ts_as_SiteID:"",ts_as_Time:"",ts_as_Remark:""}}}},computed:Object(s.b)(["adminProductLine","adminTradeGoodList","adminLinePrepare","adminScheduleTimeList","adminTimeActivitiesList","adminActivitySiteList","adminActivityMealManagementId","updateAdminActivitySiteObj"]),methods:{handleSelect:function(t){this.userName=t.value;var n={loginUserID:"huileyou",loginUserPass:123,goodID:t.id?t.id:""};this.$store.dispatch("initAdminProductLine",n)},loadAll:function(t,n){var e=this;return new a.a(function(t,i){var a=JSON.parse(sessionStorage.getItem("admin")),s={loginUserID:"huileyou",loginUserPass:"123",operateUserID:"",operateUserName:"",tradeID:a.sm_ai_ID?a.sm_ai_ID:"",goodTitle:n||"",userID:"",pcName:"",ID:"",isDelete:0,page:1,rows:100};e.$store.dispatch("initAdminTradeGoodList",s).then(function(n){t(n)},function(t){e.$notify({message:t,type:"error"})})})},querySearchAsync:function(t,n){var e=this;this.loadAll(1,t).then(function(t){t=(t=t.data).map(function(t){return{id:t.ta_tg_ID,value:t.ta_tg_Title}}),e.restaurants=t,clearTimeout(e.timeout),e.timeout=setTimeout(function(){n(e.restaurants)},10)})},changeLineID:function(){var t=this;this.LineID="";var n={loginUserID:"huileyou",loginUserPass:"123",operateUserID:"",operateUserName:"",pcName:"",goodID:this.userSearchID?this.userSearchID:""};this.$store.dispatch("initAdminLinePrepare",n).then(function(){},function(n){t.$notify({message:n,type:"error"})})},changeLineTime:function(){this.TimeID="";var t={loginUserID:"huileyou",loginUserPass:"123",operateUserID:"",operateUserName:"",pcName:"",isDelete:"0",goodID:this.LineID?this.LineID:""};this.$store.dispatch("initAdminScheduleTime",t)},changeTimeActive:function(){var t=this,n={loginUserID:"huileyou",loginUserPass:"123",operateUserID:"",operateUserName:"",pcName:"",goodID:this.TimeID?this.TimeID:""};this.$store.dispatch("initAdminTimeActivities",n).then(function(){},function(n){t.$notify({message:n,type:"error"})})},initData:function(t){var n={loginUserID:"huileyou",loginUserPass:"123",goodID:t||""};this.$store.dispatch("initAdminActivitySite",n)},search:function(){this.TimeActiveID?this.initData(this.TimeActiveID):this.$notify({message:"请选择筛选条件",type:"error"})},addAdminActivitySite:function(){this.$store.commit("setTranstionFalse"),this.addAdminActivitySiteDialog=!0},addAdminActivitySiteSubmit:function(){var t=this;this.$store.dispatch("initAddAdminActivitySite",this.addAdminActivitySiteObj).then(function(n){t.$notify({message:n,type:"success"}),t.initData(t.addAdminActivitySiteObj.data.ts_as_TimeActivityID)},function(n){t.$notify({message:n,type:"error"})}),this.addAdminActivitySiteDialog=!1},updateAdminActivitySite:function(t){this.$store.commit("setTranstionFalse"),this.updateAdminActivitySiteDialog=!0,this.$store.commit("initUpdateAdminActivitySiteObj",t)},updateAdminActivitySiteSubmit:function(){var t=this,n={loginUserID:"huileyou",loginUserPass:"123",operateUserID:"",operateUserName:"",pcName:"",data:this.updateAdminActivitySiteObj};this.$store.dispatch("UpdateAdminActivitySite",n).then(function(n){t.$notify({message:n,type:"success"}),t.initData(t.updateAdminActivitySiteObj.ts_as_TimeActivityID)},function(n){t.$notify({message:n,type:"error"})}),this.updateAdminActivitySiteDialog=!1},deleteAdminActivitySite:function(t){var n=this,e={loginUserID:"huileyou",loginUserPass:"123",operateUserID:"",operateUserName:"",pcName:"",ID:t};this.$store.dispatch("DeleteAdminActivitySite",e).then(function(t){n.$notify({message:t,type:"success"}),n.TimeActiveID?n.initData(n.TimeActiveID):n.initData(n.adminActivityMealManagementId)},function(t){n.$notify({message:t,type:"error"})})}},mounted:function(){this.initData(this.adminActivityMealManagementId)}},l={render:function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"clearfix",attrs:{id:"wrap"}},[e("h1",{staticClass:"userClass"},[t._v("活动景点")]),t._v(" "),e("el-col",{staticClass:"formSearch",attrs:{span:24}},[e("el-form",{attrs:{inline:!0}},[e("el-form-item",[e("span",[t._v("活动景点筛选:")])]),t._v(" "),e("el-form-item",[e("el-autocomplete",{staticStyle:{width:"200px"},attrs:{"fetch-suggestions":t.querySearchAsync,placeholder:"请选择产品"},on:{select:t.handleSelect},model:{value:t.userName,callback:function(n){t.userName=n},expression:"userName"}})],1),t._v(" "),e("el-form-item",[e("el-select",{staticStyle:{width:"150px"},attrs:{placeholder:"请选择产品线路"},on:{change:t.changeLineID},model:{value:t.userSearchID,callback:function(n){t.userSearchID=n},expression:"userSearchID"}},t._l(t.adminProductLine,function(t){return e("el-option",{key:t.ts_pt_ID,attrs:{label:t.ts_pt_Name,value:t.ts_pt_ID}})}))],1),t._v(" "),e("el-form-item",[e("el-select",{staticStyle:{width:"150px"},attrs:{placeholder:"请选择线路日程"},on:{change:t.changeLineTime},model:{value:t.LineID,callback:function(n){t.LineID=n},expression:"LineID"}},t._l(t.adminLinePrepare,function(t){return e("el-option",{key:t.ts_pt_ID,attrs:{label:"第"+t.ts_pt_Day+"天",value:t.ts_pt_ID}})}))],1),t._v(" "),e("el-form-item",[e("el-select",{staticStyle:{width:"150px"},attrs:{placeholder:"请选择日程时间"},on:{change:t.changeTimeActive},model:{value:t.TimeID,callback:function(n){t.TimeID=n},expression:"TimeID"}},t._l(t.adminScheduleTimeList,function(t){return e("el-option",{key:t.ts_tt_ID,attrs:{label:t.ts_tt_DoTime,value:t.ts_tt_ID}})}))],1),t._v(" "),e("el-form-item",[e("el-select",{staticStyle:{width:"150px"},attrs:{placeholder:"请选择时间活动"},model:{value:t.TimeActiveID,callback:function(n){t.TimeActiveID=n},expression:"TimeActiveID"}},t._l(t.adminTimeActivitiesList,function(t){return e("el-option",{key:t.ts_ta_ID,attrs:{label:t.ts_ta_DoWork,value:t.ts_ta_ID}})}))],1),t._v(" "),e("el-form-item",[e("el-button",{attrs:{type:"primary"},on:{click:t.search}},[t._v("查询")]),t._v(" "),e("el-button",{attrs:{type:"primary"},on:{click:t.addAdminActivitySite}},[t._v("新增")])],1)],1)],1),t._v(" "),e("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.isLoading,expression:"isLoading"}],staticStyle:{width:"100%"},attrs:{data:t.adminActivitySiteList,"highlight-current-row":""}},[e("el-table-column",{attrs:{align:"center",label:"主键编号",prop:"ts_as_ID"}}),t._v(" "),e("el-table-column",{attrs:{align:"center",label:"景点编码",prop:"ts_as_SiteID"}}),t._v(" "),e("el-table-column",{attrs:{align:"center",label:"活动时间",prop:"ts_as_Time"}}),t._v(" "),e("el-table-column",{attrs:{align:"center",label:"时间活动编号",prop:"ts_as_TimeActivityID"}}),t._v(" "),e("el-table-column",{attrs:{label:"备注",align:"center"},scopedSlots:t._u([{key:"default",fn:function(n){return[e("el-popover",{ref:"popover1",attrs:{placement:"top-start",width:"200",trigger:"hover",content:n.row.ts_as_Remark}}),t._v(" "),e("el-button",{directives:[{name:"popover",rawName:"v-popover:popover1",arg:"popover1"}]},[t._v("移入查看")])]}}])}),t._v(" "),e("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(n){return[e("el-button",{attrs:{size:"mini"},on:{click:function(e){t.updateAdminActivitySite(n.row.ts_as_ID)}}},[t._v("修改\n        ")]),t._v(" "),e("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(e){t.deleteAdminActivitySite(n.row.ts_as_ID)}}},[t._v("删除\n        ")])]}}])})],1),t._v(" "),e("el-dialog",{attrs:{title:"添加活动景点",visible:t.addAdminActivitySiteDialog},on:{"update:visible":function(n){t.addAdminActivitySiteDialog=n}}},[e("el-form",{attrs:{model:t.addAdminActivitySiteObj}},[e("el-form-item",{attrs:{label:"时间活动:","label-width":t.formLabelWidth}},[e("el-select",{staticStyle:{width:"150px"},attrs:{placeholder:"请选择时间活动"},model:{value:t.addAdminActivitySiteObj.data.ts_as_TimeActivityID,callback:function(n){t.$set(t.addAdminActivitySiteObj.data,"ts_as_TimeActivityID",n)},expression:"addAdminActivitySiteObj.data.ts_as_TimeActivityID"}},t._l(t.adminTimeActivitiesList,function(t){return e("el-option",{key:t.ts_ta_ID,attrs:{label:t.ts_ta_DoWork,value:t.ts_ta_ID}})}))],1),t._v(" "),e("el-form-item",{attrs:{label:"景点编号:","label-width":t.formLabelWidth}},[e("el-input",{model:{value:t.addAdminActivitySiteObj.data.ts_as_SiteID,callback:function(n){t.$set(t.addAdminActivitySiteObj.data,"ts_as_SiteID",n)},expression:"addAdminActivitySiteObj.data.ts_as_SiteID"}})],1),t._v(" "),e("el-form-item",{attrs:{label:"活动时间:","label-width":t.formLabelWidth}},[e("el-input",{model:{value:t.addAdminActivitySiteObj.data.ts_as_Time,callback:function(n){t.$set(t.addAdminActivitySiteObj.data,"ts_as_Time",n)},expression:"addAdminActivitySiteObj.data.ts_as_Time"}})],1),t._v(" "),e("el-form-item",{attrs:{label:"备注:","label-width":t.formLabelWidth}},[e("el-input",{model:{value:t.addAdminActivitySiteObj.data.ts_as_Remark,callback:function(n){t.$set(t.addAdminActivitySiteObj.data,"ts_as_Remark",n)},expression:"addAdminActivitySiteObj.data.ts_as_Remark"}})],1)],1),t._v(" "),e("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(n){t.addAdminActivitySiteDialog=!1}}},[t._v("取 消")]),t._v(" "),e("el-button",{attrs:{type:"primary"},on:{click:t.addAdminActivitySiteSubmit}},[t._v("确 定")])],1)],1),t._v(" "),e("el-dialog",{attrs:{title:"修改活动景点",visible:t.updateAdminActivitySiteDialog},on:{"update:visible":function(n){t.updateAdminActivitySiteDialog=n}}},[e("el-form",{attrs:{model:t.updateAdminActivitySiteObj}},[e("el-form-item",{attrs:{label:"时间活动:","label-width":t.formLabelWidth}},[e("el-select",{staticStyle:{width:"150px"},attrs:{placeholder:"请选择时间活动"},model:{value:t.updateAdminActivitySiteObj.ts_as_TimeActivityID,callback:function(n){t.$set(t.updateAdminActivitySiteObj,"ts_as_TimeActivityID",n)},expression:"updateAdminActivitySiteObj.ts_as_TimeActivityID"}},t._l(t.adminTimeActivitiesList,function(t){return e("el-option",{key:t.ts_ta_ID,attrs:{label:t.ts_ta_DoWork,value:t.ts_ta_ID}})}))],1),t._v(" "),e("el-form-item",{attrs:{label:"景点编号:","label-width":t.formLabelWidth}},[e("el-input",{model:{value:t.updateAdminActivitySiteObj.ts_as_SiteID,callback:function(n){t.$set(t.updateAdminActivitySiteObj,"ts_as_SiteID",n)},expression:"updateAdminActivitySiteObj.ts_as_SiteID"}})],1),t._v(" "),e("el-form-item",{attrs:{label:"活动时间:","label-width":t.formLabelWidth}},[e("el-input",{model:{value:t.updateAdminActivitySiteObj.ts_as_Time,callback:function(n){t.$set(t.updateAdminActivitySiteObj,"ts_as_Time",n)},expression:"updateAdminActivitySiteObj.ts_as_Time"}})],1),t._v(" "),e("el-form-item",{attrs:{label:"备注:","label-width":t.formLabelWidth}},[e("el-input",{model:{value:t.updateAdminActivitySiteObj.ts_as_Remark,callback:function(n){t.$set(t.updateAdminActivitySiteObj,"ts_as_Remark",n)},expression:"updateAdminActivitySiteObj.ts_as_Remark"}})],1)],1),t._v(" "),e("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(n){t.updateAdminActivitySiteDialog=!1}}},[t._v("取 消")]),t._v(" "),e("el-button",{attrs:{type:"primary"},on:{click:t.updateAdminActivitySiteSubmit}},[t._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var r=e("VU/8")(o,l,!1,function(t){e("pxkk")},"data-v-66afa133",null);n.default=r.exports},JYLi:function(t,n,e){(t.exports=e("FZ+f")(!1)).push([t.i,"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",""])},pxkk:function(t,n,e){var i=e("JYLi");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);e("rjj0")("f83e8f00",i,!0)}});